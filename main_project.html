<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project 1 - My Portfolio</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>プロジェクト名：タートル&アドベンチャー</h1>
        <h2>半田 滉介</h2>
        <nav>
            <ul>
                <li><a href="index.html">Home(他作品)</a></li>
                <li><a href="main_project.html">コード紹介ページ(当ページ)</a></li>
                <!-- <li> -->
                    <!-- <a href="#">制作物一覧</a> -->
                    <!-- <ul>
                        <li><a href="main_project.html">コード紹介ページ</a></li>
                        <li><a href="project1.html">ストア公開中アプリ1：地球ゲーム</a></li>
                        <li><a href="project1.html">ストア公開中アプリ2：消える！まるばつゲーム！</a></li>
                        <li><a href="project2.html">ストア公開中アプリ3：TwinShips</a></li>
                        <li><a href="project3.html">ストア公開中アプリ4：ShadowRoad</a></li>
                    </ul> -->
                <!-- </li> -->
            </ul>
        </nav>
    </header>

    <main>
        <section class="section">
            <h2>プロジェクト概要</h2>
            <p>本ゲームは、カメ型の主人公を操作し、戦闘アクション・パズル・探索を融合させた3Dステージをクリアしていくモバイル向けアドベンチャーゲームです。</p>
            <p>プレイヤーが片手操作で快適に遊べることを主軸に、アクション・パズル・探索要素を融合させた設計となっています。</p>
            <p>実装面では、CharacterControllerによるプレイヤー操作、Animatorによる状態遷移、NavMeshを活用した敵AI制御、Cinemachineによるカメラ演出、データ保存機能など、ゲーム開発に必要な主要機能を一通り構築しました。</p>
            <p>特に、操作性・視認性・没入感に配慮し、ユーザー体験の品質向上を重視した設計を行っています。</p>
            <p>現在(2025/7～)はNintendo Switch向けへの移植にも取り組んでおり、マルチプラットフォームを見据えた設計や、入力デバイス・UXの違いに対応した改善を進めています。</p>
            <h2>デモプレイ動画</h2>
            <iframe src="https://drive.google.com/file/d/1u-rjt0wNkOlFa7R6JG5fqRA9IpbQ6ULI/preview" width="315" height="560" allow="autoplay" allowfullscreen></iframe>

            <h2>開発経緯</h2>
            <p>本作は、Unityを用いた実践的なゲーム制作スキルを体系的に習得することを目的に個人開発を開始しました。</p>
            <p>最初はシンプルなアクション要素に限定していましたが、設計・実装を進める中で、状態遷移管理、AI、ギミックの設計といった複雑な機能も段階的に取り入れ、スキルの幅を広げてきました。</p>
            <p>ゲームの企画・設計・実装・改善をすべて一人で担いながら、ユーザー体験向上のための調整やブラッシュアップにも注力しています。</p>
            <p>外部からのフィードバックも反映し、完成度を高める継続的な改善を行っています。</p>

            <h2>制作期間・プロセス</h2>
            <p>本プロジェクトは2023年5月に開発を開始し、現在も定期的に開発を継続しています。</p>
            <p>全工程（企画・設計・実装・演出・UI・テスト・公開対応）を1人で担当しています</p>
            <p> ※ただし、キャラクターモデル、UI等の素材は外部アセットを活用</p>
            <p>初期段階ではプレイアブルなプロトタイプを短期間で構築し、以降はユーザビリティ向上・演出強化・要素拡大を中心に反復的に開発を進行。</p>
            <p>現在は、新規ステージや多様な敵キャラクターの追加、演出・UIの改善を通じてプレイヤー体験のさらなる深化を目指しています。</p>

            
            <h2>デモプレイ</h2>
            <p><a href="main_demo/main_demo.html" class="button">こちらからプレイいただけます</a></p>
        </section>
    </main>



    <main>
        <section class="section">
            <!-- タブの追加 -->
            <h2>コード紹介</h2>
            <div class="tabs">
                <div class="tab-link active" data-tab="tab1">プレイヤー操作</div>
                <div class="tab-link" data-tab="tab2">敵AI</div>
                <div class="tab-link" data-tab="tab3">様々なギミック【1】</div>
                <div class="tab-link" data-tab="tab4">様々なギミック【2】</div>
            </div>

            <div id="tab1" class="tab-content">
                <h3>● プレイヤーキャラクターの操作</h3>
                    <p>本プロジェクトでは、まずキャラクターの移動システムを構築しました。仮想ジョイスティックによる片手操作をベースとし、ジャンプ・ダッシュ・攻撃などの複数アクションを滑らかに実行できるように設計しています。</p>
                    <p>また、状態遷移管理を活用し、各アクションにおける制約（例：攻撃中は移動不可など）を明確化し、プレイヤーの操作ミスを防ぐ工夫も実装しました。</p>
                    <p>変数名は現職の名残で「ハンガリアン記法」といった、名前の先頭や末尾に決まった意味の接頭辞や接尾辞を付与する方式を使用しております。</p>
                    <div class="tech-points">
                        <p><strong>技術ポイント：</strong></p>
                        <ul>
                            <li>仮想ジョイスティックによるスムーズな移動・ダッシュなどアクションの実装</li>
                            <li>状態遷移（Idle/Move/Jump/Attack...）によるアクション制御</li>
                            <li>セッター関数を活用した行動制限とバグ抑制設計</li>
                            <li>片手操作に特化したUI・UX設計とアニメーション連携</li>
                        </ul>
                    </div>
                <div class="gist-container">
                    <script src="https://gist.github.com/kosuke-Hanchan/495ebefc5b2740320e020990b1892112.js"></script>
                </div>
                <h3>● 片手で可能な操作</h3>
                <iframe src="https://drive.google.com/file/d/1XW9mEfWmzaH8lrlIPu9UH827J4kEuyNn/preview" width="315" height="560" allow="autoplay" allowfullscreen></iframe>
                
                <h3>● 複数のアクションタイプ</h3>
                <iframe src="https://drive.google.com/file/d/1fJqQZV3MWTHlNmRc0ZiD3gnHO-M3Z7RL/preview" width="315" height="560" allow="autoplay" allowfullscreen></iframe>
            </div>

            <div id="tab2" class="tab-content hidden">
                <h3>● 敵AI</h3>
                <p>敵キャラクターにはNavMeshを活用した経路探索AIを実装し、プレイヤーとの距離・状態に応じて行動パターンを自動遷移するロジックを構築しています。</p>
                <p>行動パターンは「警戒 → 追跡 → 攻撃」のような状態ベースのAIとして制御し、敵ごとに閾値や反応速度に個体差を持たせることでゲームバリエーションを演出しています。</p>
                <p>中ボスでは、乱数による攻撃パターンの分岐や、特定条件下でしかダメージを与えられない仕組みを取り入れることで、戦略性の高いバトル設計を実現しました。</p>
                <div class="tech-points">
                    <p><strong>技術ポイント：</strong></p>
                    <ul>
                        <li>NavMeshAgentを用いたリアルタイム追跡・経路制御の実装</li>
                        <li>状態遷移パターン（巡回・追跡・攻撃・待機）を基にしたAI制御</li>
                        <li>個体差パラメータの導入による敵ごとの動作バリエーション</li>
                        <li>乱数・攻撃条件・弱点制御を組み合わせた中ボス設計</li>
                    </ul>
                </div>
                <section class="script-section">
                    <h3>敵：スケルトン</h3>
                    <iframe src="https://drive.google.com/file/d/1repScKkFcEmoCfxhnzRe7l8nmzqY2hwM/preview" width="315" height="560" allow="autoplay" allowfullscreen></iframe>
                    <div class="script-about">
                        <ul>
                          <li>NavMeshAgentを利用して経路探索しながらプレイヤーを追跡</li>
                          <li>「Idle → 警戒 → 追跡 → 攻撃」へと状態遷移し、反応的なAIを構築</li>
                          <li>攻撃範囲や検知範囲を個体ごとにカスタマイズ可能な設計</li>
                        </ul>
                    </div>

                    <h4>行動制御スクリプト</h4>
                    <div class="gist-container">
                        <script src="https://gist.github.com/kosuke-Hanchan/8d78670d622d1400bcd3c5746f6dbdad.js"></script>
                    </div>
                </section>

                <section class="script-section">
                    <h3>敵：爆弾ガニ(中ボス)</h3>
                    
                    <iframe src="https://drive.google.com/file/d/1yvh1MD6PuwPuL_LpkvuljN0U1JM3R3VL/preview" width="315" height="560" allow="autoplay" allowfullscreen></iframe>
                    <div class="script-about">
                        <ul>
                          <li>一定間隔でランダムな攻撃パターンを選択するアルゴリズムを導入</li>
                          <li>プレイヤーの行動を誘導するような攻撃ロジックを実装</li>
                          <li>ダメージ判定はボスの状態に依存し、タイミングを見極める設計</li>
                        </ul>
                    </div>
                    
                    <h4>行動制御スクリプト</h4>
                    <div class="gist-container">
                        <script src="https://gist.github.com/kosuke-Hanchan/d4f53dd7ab4cfa809f02dcdb94ba4376.js"></script>
                    </div>
                    <h4><br>爆弾スクリプト</h4>
                    <div class="gist-container">
                        <script src="https://gist.github.com/kosuke-Hanchan/9bf6bd7ce2a8c6b893f502aab1b40a4f.js"></script>
                    </div>
                </section>
            </div>

            <div id="tab3" class="tab-content hidden">
                <h3>● 様々なギミック【1】</h3>
                <p>ギミック系では、「スイッチ」「鍵付き扉」「破壊可能オブジェクト」など、ステージ進行と連動したリアクション処理を設計・実装しました。</p>
                <p>スイッチは攻撃/接触による起動をトリガーとし、「床型」「レバー型」などの種類をenumで定義、また時限式か否かをフラグで制御することで柔軟なレベルデザインを可能にしています。</p>
                <p>鍵付き扉では、取得と消費を一括で管理する鍵管理スクリプトを用意し、開閉条件を一元管理することで複雑なフラグ管理の簡略化を図りました。</p>
                <div class="tech-points">
                    <p><strong>技術ポイント：</strong></p>
                    <ul>
                        <li>列挙型・フラグ管理によるギミックの共通化・汎用化</li>
                        <li>トリガーイベントを利用したスイッチ反応処理の実装</li>
                        <li>時限スイッチや切替式ギミックのステートマシン制御</li>
                        <li>鍵管理スクリプトによる取得・使用の一元制御</li>
                    </ul>
                </div>

                <section class="script-section">
                    <h3>【スイッチ】</h3>
                    <iframe src="https://drive.google.com/file/d/1ly442pWM5LMIDiHwNpRNNSgQvYIi4Ogz/preview" width="315" height="560" allow="autoplay" allowfullscreen></iframe>

                    <div class="script-about">
                        <ul>
                            <li>プレイヤーの攻撃または接触をトリガーとして、扉オブジェクトの開閉アニメーションを実行</li>
                            <li>「床タイプ」「レバータイプ」のスイッチ種別を列挙型で指定し、設計時に柔軟な切替が可能</li>
                            <li>フラグ設定により、一定時間で自動的にオフとなる「時限スイッチ」としての挙動も実現</li>
                        </ul>
                    </div>
                    <div class="gist-container">
                        <script src="https://gist.github.com/kosuke-Hanchan/2003535e7ad6ac134d389311681ec900.js"></script>
                    </div>
                </section>

                <section class="script-section">
                    <h3>【鍵付き扉】</h3>
                    <iframe src="https://drive.google.com/file/d/1FoOkdarxzciSwsW-sFXRF8pDxn6vVOX1/preview" width="315" height="560" allow="autoplay" allowfullscreen></iframe>

                    <div class="script-about">
                        <ul>
                            <li>通常用／ボス用などの鍵タイプを変数で指定し、対応する扉の開閉ロジックを分岐</li>
                            <li>鍵取得および消費を一元的に管理する専用スクリプトを設計し、処理の簡素化と保守性を向上</li>
                        </ul>
                    </div>
                    <h4>鍵の管理スクリプト</h4>
                    <div class="gist-container">
                        <script src="https://gist.github.com/kosuke-Hanchan/9b316096d759d72dc9221f85281b774d.js"></script>
                    </div>
                    <h4><br>鍵取得リアクション用スクリプト</h4>
                    <div class="gist-container">
                        <script src="https://gist.github.com/kosuke-Hanchan/a01fbe3b2443299dc812c5b06a17723c.js"></script>
                    </div>
                    <h4><br>鍵付き扉開錠リアクション用スクリプト</h4>
                    <div class="gist-container">
                        <script src="https://gist.github.com/kosuke-Hanchan/5b82d48e7db2fb2078641ace3dca8e63.js"></script>
                    </div>
                </section>
            </div>

            <div id="tab4" class="tab-content hidden">
                <h3>● 様々なギミック【2】</h3>
                <p>ギミック系では、「スイッチ」「鍵付き扉」「破壊可能オブジェクト」など、ステージ進行と連動したリアクション処理を設計・実装しました。</p>
                <p>スイッチは攻撃/接触による起動をトリガーとし、「床型」「レバー型」などの種類をenumで定義、また時限式か否かをフラグで制御することで柔軟なレベルデザインを可能にしています。</p>
                <p>鍵付き扉では、取得と消費を一括で管理する鍵管理スクリプトを用意し、開閉条件を一元管理することで複雑なフラグ管理の簡略化を図りました。</p>
                <div class="tech-points">
                    <p><strong>技術ポイント：</strong></p>
                    <ul>
                        <li>爆弾・攻撃トリガーによるオブジェクト破壊アニメーションの実装</li>
                        <li>ゲーム進行に応じた破壊オブジェクトの配置・調整設計</li>
                        <li>ドロップアイテムの種類・確率を設定可能なパラメータ設計</li>
                        <li>オブジェクト毎に異なるリアクション・生成物設定の実現</li>
                    </ul>
                </div>

                <section class="script-section">
                    <h3>【破壊可能な岩】</h3>
                    <iframe src="https://drive.google.com/file/d/1FD3wlRdNPRCzGpB7TFWRj61_DkDP1ml7/preview" width="315" height="560" allow="autoplay" allowfullscreen></iframe>
                    <div class="script-about">
                        <ul>
                            <li>プレイヤーの爆弾スキルによる破壊処理とアニメーション再生を組み合わせたギミック演出</li>
                            <li>ゲームの進行度に応じて、破壊が探索・移動の鍵となる構成でステージ設計に活用</li>
                        </ul>
                    </div>
                    <div class="gist-container">
                        <script src="https://gist.github.com/kosuke-Hanchan/49d0cc6ce59b40f5a78d9497dc611607.js"></script>
                    </div>
                </section>

                <section class="script-section">
                    <h3>【アイテム入り樽】</h3>
                    <iframe src="https://drive.google.com/file/d/1sEto6NjWMMqK_799OL8xCOsXj5uJTtmg/preview" width="315" height="560" allow="autoplay" allowfullscreen></iframe>
                    <div class="script-about">
                        <ul>
                            <li>攻撃により破壊可能なオブジェクトとして設計し、破壊時に報酬アイテムを出現</li>
                            <li>アイテムの種類やドロップ確率をオブジェクト単位で設定可能にし、多様なプレイ体験を提供</li>
                        </ul>
                    </div>
                    <div class="gist-container">
                        <script src="https://gist.github.com/kosuke-Hanchan/235223b9c8197e655ae14f1cf5d4645a.js"></script>
                    </div>
                </section>
            </div>

            <h2>GitHubリンク</h2>
            <p>当ゲームにて作成したその他コードを以下のリンクにまとめております。</p>
            <p>ご確認のほどよろしくお願いいたします。(コード公開用のリポジトリのためver管理は行っていません)</p>
            <p><a href="https://github.com/kosuke-Hanchan/seisakubutu_script.git" class="button">GitHubへ</a></p>
        </section>
    </main>


    <footer>
        <p>&copy; 2024 My Portfolio.</p>
    </footer>

    
    <script>
        document.querySelectorAll('.tab-link').forEach(tab => {
            tab.addEventListener('click', function() {
                const target = this.getAttribute('data-tab');

                document.querySelectorAll('.tab-link').forEach(link => {
                    link.classList.remove('active');
                });

                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.add('hidden');
                });

                this.classList.add('active');
                document.getElementById(target).classList.remove('hidden');
            });
        });
    </script>
</body>
</html>
